"""
å¤šæ™ºèƒ½ä½“å¤´è„‘é£æš´ç³»ç»Ÿ - å®Œæ•´é˜¶æ®µæµç¨‹

å®ç°ç±»ä¼¼åŸé¡¹ç›®çš„å¤šé˜¶æ®µã€å¤šè½®è®¨è®ºåŠŸèƒ½:
- 7 ä¸ªé˜¶æ®µ: å¼€åœº â†’ å®šä¹‰ä¸»é¢˜ â†’ å‘æ•£ â†’ æ·±åŒ– â†’ è¯„ä¼° â†’ æ•´åˆ â†’ è¾“å‡º
- æ¯ä¸ªé˜¶æ®µå¯é…ç½®è®¨è®ºè½®æ•°
- ä½¿ç”¨ SequentialAgent å®ç°é˜¶æ®µæµè½¬
"""
from google.adk.agents import LlmAgent, SequentialAgent

# å¯¼å…¥æ¨¡å‹é…ç½®
from .shared.model_config import get_model

# å¯¼å…¥å·¥å…·
from .tools.creativity import (
    apply_scamper,
    apply_six_hats,
    apply_random_stimulus,
    apply_reverse_thinking
)


# ============================================================
# é˜¶æ®µ 1: å¼€åœº (Opening)
# ============================================================
opening_facilitator = LlmAgent(
    name="opening_facilitator",
    model=get_model(),
    output_key="opening_message",
    description="å¼€åœºä¸»æŒäºº",
    instruction='''ä½ æ˜¯å¤´è„‘é£æš´ä¸»æŒäººã€‚è¿™æ˜¯ ğŸ¬ å¼€åœºé˜¶æ®µã€‚

è¯·å®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š
1. çƒ­æƒ…æ¬¢è¿æ‰€æœ‰ä¸“å®¶å‚ä¸
2. å®£å¸ƒä»Šå¤©çš„è®¨è®ºä¸»é¢˜
3. ç®€è¦è¯´æ˜å¤´è„‘é£æš´è§„åˆ™ï¼š
   - é¼“åŠ±å¤§èƒ†æƒ³æ³•ï¼Œä¸è¦è‡ªæˆ‘å®¡æŸ¥
   - å…ˆä¸è¯„åˆ¤ï¼Œåªäº§ç”Ÿæƒ³æ³•
   - æ•°é‡ä¼˜å…ˆï¼Œåé¢å†ç­›é€‰
4. ä»‹ç»ä»Šå¤©çš„ä¸“å®¶å›¢é˜Ÿ

ä¿æŒç®€æ´æœ‰åŠ›ï¼ˆ100-150å­—ï¼‰ï¼Œä½¿ç”¨ emoji å¢åŠ æ´»åŠ›ã€‚
'''
)


# ============================================================
# é˜¶æ®µ 2: å®šä¹‰ä¸»é¢˜ (Define Topic)
# ============================================================
define_topic_agent = LlmAgent(
    name="define_topic",
    model=get_model(),
    output_key="topic_definition",
    description="ä¸»é¢˜å®šä¹‰ä¸“å®¶",
    instruction='''ä½ æ˜¯ä¸»é¢˜åˆ†æä¸“å®¶ã€‚è¿™æ˜¯ ğŸ¯ å®šä¹‰ä¸»é¢˜é˜¶æ®µã€‚

è¯·åˆ†æç”¨æˆ·æå‡ºçš„ä¸»é¢˜ï¼Œå®Œæˆä»¥ä¸‹ä»»åŠ¡ï¼š
1. æ˜ç¡®æ ¸å¿ƒé—®é¢˜æ˜¯ä»€ä¹ˆ
2. åˆ†è§£é—®é¢˜çš„ 3-4 ä¸ªå…³é”®ç»´åº¦
3. è®¾å®šè®¨è®ºçš„è¾¹ç•Œå’ŒèŒƒå›´
4. æå‡º 2-3 ä¸ªå¼•å¯¼æ€§é—®é¢˜

å¼€åœºä¿¡æ¯ï¼š{opening_message}

è¾“å‡ºæ ¼å¼ï¼š
## æ ¸å¿ƒé—®é¢˜
[ä¸€å¥è¯æè¿°]

## å…³é”®ç»´åº¦
1. [ç»´åº¦1]
2. [ç»´åº¦2]
...

## å¼•å¯¼é—®é¢˜
- [é—®é¢˜1]
- [é—®é¢˜2]
'''
)


# ============================================================
# é˜¶æ®µ 3: å‘æ•£é˜¶æ®µ ç¬¬1è½®
# ============================================================
diverge_r1_innovator = LlmAgent(
    name="diverge_r1_innovator",
    model=get_model(),
    output_key="diverge_r1_ideas",
    description="åˆ›æ–°ä¸“å®¶ - å‘æ•£ç¬¬1è½®",
    instruction='''ä½ æ˜¯åˆ›æ–°ä¸“å®¶ Aliceã€‚è¿™æ˜¯ ğŸ’¡ å‘æ•£é˜¶æ®µç¬¬1è½®ã€‚

ä½ çš„ä»»åŠ¡æ˜¯é’ˆå¯¹ä¸»é¢˜æå‡ºåˆ›æ–°æƒ³æ³•ï¼š
1. æå‡º 3 ä¸ªåˆ›æ–°æƒ³æ³•
2. æƒ³æ³•è¦å¤§èƒ†ã€æœ‰åˆ›æ„ã€ä¸è®¾é™
3. å¯ä»¥å¤©é©¬è¡Œç©ºï¼Œä¸ç”¨æ‹…å¿ƒå¯è¡Œæ€§

ä¸»é¢˜åˆ†æï¼š{topic_definition}

è¯·å¼€å§‹æå‡ºä½ çš„åˆ›æ–°æƒ³æ³•ï¼š
''',
    tools=[apply_random_stimulus, apply_scamper]
)

diverge_r1_critic = LlmAgent(
    name="diverge_r1_critic",
    model=get_model(),
    output_key="diverge_r1_feedback",
    description="æ‰¹è¯„ä¸“å®¶ - å‘æ•£ç¬¬1è½®åé¦ˆ",
    instruction='''ä½ æ˜¯æ‰¹è¯„ä¸“å®¶ Bobã€‚è¿™æ˜¯ ğŸ’¡ å‘æ•£é˜¶æ®µç¬¬1è½®ã€‚

åœ¨å‘æ•£é˜¶æ®µï¼Œä½ çš„è§’è‰²æ˜¯ï¼š
1. ç®€çŸ­ç‚¹è¯„åˆ›æ–°æƒ³æ³•ï¼ˆæ¯ä¸ª 1 å¥è¯ï¼‰
2. æ ‡æ³¨æœ€æœ‰æ½œåŠ›çš„ 1-2 ä¸ªæƒ³æ³•
3. æå‡ºä¸€ä¸ªè¡¥å……è§’åº¦

åˆ›æ–°æƒ³æ³•ï¼š{diverge_r1_ideas}
'''
)

diverge_r1_summary = LlmAgent(
    name="diverge_r1_summary",
    model=get_model(),
    output_key="diverge_r1_summary",
    description="å‘æ•£ç¬¬1è½®æ±‡æ€»",
    instruction='''ä½ æ˜¯æ•´åˆä¸“å®¶ Charlieã€‚è¿™æ˜¯ ğŸ’¡ å‘æ•£é˜¶æ®µç¬¬1è½®æ±‡æ€»ã€‚

è¯·ç®€è¦æ±‡æ€»æœ¬è½®è®¨è®ºï¼š
1. åˆ—å‡ºæœ¬è½®äº§ç”Ÿçš„æ ¸å¿ƒæƒ³æ³•ï¼ˆ3ä¸ªï¼‰
2. æ ‡æ³¨å“ªäº›å€¼å¾—æ·±å…¥æ¢è®¨

åˆ›æ–°æƒ³æ³•ï¼š{diverge_r1_ideas}
Bob çš„åé¦ˆï¼š{diverge_r1_feedback}

ç”¨ç®€æ´çš„åˆ—è¡¨å½¢å¼æ±‡æ€»ã€‚
'''
)


# ============================================================
# é˜¶æ®µ 3: å‘æ•£é˜¶æ®µ ç¬¬2è½®  
# ============================================================
diverge_r2_innovator = LlmAgent(
    name="diverge_r2_innovator",
    model=get_model(),
    output_key="diverge_r2_ideas",
    description="åˆ›æ–°ä¸“å®¶ - å‘æ•£ç¬¬2è½®",
    instruction='''ä½ æ˜¯åˆ›æ–°ä¸“å®¶ Aliceã€‚è¿™æ˜¯ ğŸ’¡ å‘æ•£é˜¶æ®µç¬¬2è½®ã€‚

åŸºäºç¬¬1è½®çš„è®¨è®ºï¼Œç»§ç»­äº§ç”Ÿæ–°æƒ³æ³•ï¼š
1. æå‡º 3 ä¸ªæ–°çš„åˆ›æ–°æƒ³æ³•ï¼ˆä¸è¦é‡å¤ç¬¬1è½®çš„ï¼‰
2. å¯ä»¥ä»ç¬¬1è½®çš„æƒ³æ³•ä¸­å»¶ä¼¸
3. å°è¯•è·¨é¢†åŸŸçš„ç»„åˆ

ç¬¬1è½®æ±‡æ€»ï¼š{diverge_r1_summary}

è¯·ç»§ç»­æå‡ºåˆ›æ–°æƒ³æ³•ï¼š
''',
    tools=[apply_random_stimulus]
)

diverge_r2_critic = LlmAgent(
    name="diverge_r2_critic",
    model=get_model(),
    output_key="diverge_r2_feedback",
    description="æ‰¹è¯„ä¸“å®¶ - å‘æ•£ç¬¬2è½®åé¦ˆ",
    instruction='''ä½ æ˜¯æ‰¹è¯„ä¸“å®¶ Bobã€‚è¿™æ˜¯ ğŸ’¡ å‘æ•£é˜¶æ®µç¬¬2è½®ã€‚

1. ç®€çŸ­ç‚¹è¯„æœ¬è½®åˆ›æ–°æƒ³æ³•
2. ç»¼åˆä¸¤è½®ï¼Œé€‰å‡ºæœ€æœ‰æ½œåŠ›çš„ 3 ä¸ªæƒ³æ³•

ç¬¬1è½®æ±‡æ€»ï¼š{diverge_r1_summary}
ç¬¬2è½®æƒ³æ³•ï¼š{diverge_r2_ideas}
'''
)

diverge_final_summary = LlmAgent(
    name="diverge_final_summary",
    model=get_model(),
    output_key="all_ideas",
    description="å‘æ•£é˜¶æ®µæ€»æ±‡æ€»",
    instruction='''ä½ æ˜¯æ•´åˆä¸“å®¶ Charlieã€‚è¿™æ˜¯ ğŸ’¡ å‘æ•£é˜¶æ®µæ€»æ±‡æ€»ã€‚

è¯·æ±‡æ€»ä¸¤è½®å‘æ•£è®¨è®ºçš„æ‰€æœ‰æƒ³æ³•ï¼š
1. åˆ—å‡ºæ‰€æœ‰æ ¸å¿ƒæƒ³æ³•ï¼ˆ5-6ä¸ªï¼‰
2. æŒ‰æ½œåŠ›æ’åº
3. æ ‡æ³¨æœ€å€¼å¾—æ·±åŒ–çš„ Top 3

ç¬¬1è½®æ±‡æ€»ï¼š{diverge_r1_summary}
ç¬¬2è½®æƒ³æ³•ï¼š{diverge_r2_ideas}
ç¬¬2è½®åé¦ˆï¼š{diverge_r2_feedback}
'''
)


# ============================================================
# é˜¶æ®µ 4: æ·±åŒ–é˜¶æ®µ ç¬¬1è½®
# ============================================================
deepen_r1_innovator = LlmAgent(
    name="deepen_r1_innovator",
    model=get_model(),
    output_key="deepen_r1_ideas",
    description="åˆ›æ–°ä¸“å®¶ - æ·±åŒ–ç¬¬1è½®",
    instruction='''ä½ æ˜¯åˆ›æ–°ä¸“å®¶ Aliceã€‚è¿™æ˜¯ ğŸ” æ·±åŒ–é˜¶æ®µç¬¬1è½®ã€‚

ä»å‘æ•£é˜¶æ®µé€‰æ‹© Top 1 æƒ³æ³•è¿›è¡Œæ·±åŒ–ï¼š
1. è¯¦ç»†æè¿°å®ç°æ–¹æ¡ˆ
2. æ€è€ƒæŠ€æœ¯è·¯å¾„
3. è®¾æƒ³åº”ç”¨åœºæ™¯

æ‰€æœ‰æƒ³æ³•æ±‡æ€»ï¼š{all_ideas}

è¯·æ·±åŒ–æœ€æœ‰æ½œåŠ›çš„æƒ³æ³•ï¼š
''',
    tools=[apply_six_hats]
)

deepen_r1_critic = LlmAgent(
    name="deepen_r1_critic",
    model=get_model(),
    output_key="deepen_r1_critique",
    description="æ‰¹è¯„ä¸“å®¶ - æ·±åŒ–ç¬¬1è½®åˆ†æ",
    instruction='''ä½ æ˜¯æ‰¹è¯„ä¸“å®¶ Bobã€‚è¿™æ˜¯ ğŸ” æ·±åŒ–é˜¶æ®µç¬¬1è½®ã€‚

å¯¹æ·±åŒ–çš„æƒ³æ³•è¿›è¡Œè¯¦ç»†åˆ†æï¼š
1. æŠ€æœ¯å¯è¡Œæ€§åˆ†æ
2. èµ„æºéœ€æ±‚ä¼°ç®—
3. ä¸»è¦é£é™©è¯†åˆ«
4. æ”¹è¿›å»ºè®®

æ·±åŒ–æƒ³æ³•ï¼š{deepen_r1_ideas}
''',
    tools=[apply_reverse_thinking]
)

deepen_r1_summary = LlmAgent(
    name="deepen_r1_summary",
    model=get_model(),
    output_key="deepen_r1_summary",
    description="æ·±åŒ–ç¬¬1è½®æ±‡æ€»",
    instruction='''ä½ æ˜¯æ•´åˆä¸“å®¶ Charlieã€‚è¿™æ˜¯ ğŸ” æ·±åŒ–é˜¶æ®µç¬¬1è½®æ±‡æ€»ã€‚

ç»¼åˆåˆ›æ–°å’Œæ‰¹è¯„çš„è§‚ç‚¹ï¼š
1. æå‡ºä¼˜åŒ–åçš„æ–¹æ¡ˆ
2. æ ‡æ³¨éœ€è¦è§£å†³çš„å…³é”®é—®é¢˜

æ·±åŒ–æƒ³æ³•ï¼š{deepen_r1_ideas}
æ‰¹è¯„åˆ†æï¼š{deepen_r1_critique}
'''
)


# ============================================================
# é˜¶æ®µ 4: æ·±åŒ–é˜¶æ®µ ç¬¬2è½®
# ============================================================
deepen_r2_innovator = LlmAgent(
    name="deepen_r2_innovator",
    model=get_model(),
    output_key="deepen_r2_ideas",
    description="åˆ›æ–°ä¸“å®¶ - æ·±åŒ–ç¬¬2è½®",
    instruction='''ä½ æ˜¯åˆ›æ–°ä¸“å®¶ Aliceã€‚è¿™æ˜¯ ğŸ” æ·±åŒ–é˜¶æ®µç¬¬2è½®ã€‚

ä»å‘æ•£é˜¶æ®µé€‰æ‹© Top 2 æƒ³æ³•ï¼ˆä¸ç¬¬1è½®ä¸åŒï¼‰è¿›è¡Œæ·±åŒ–ï¼š
1. è¯¦ç»†æè¿°å®ç°æ–¹æ¡ˆ
2. æ€è€ƒä¸ç¬¬1è½®æ–¹æ¡ˆçš„ç»“åˆå¯èƒ½

æ‰€æœ‰æƒ³æ³•ï¼š{all_ideas}
ç¬¬1è½®æ·±åŒ–ç»“æœï¼š{deepen_r1_summary}

è¯·æ·±åŒ–å¦ä¸€ä¸ªæœ‰æ½œåŠ›çš„æƒ³æ³•ï¼š
'''
)

deepen_r2_critic = LlmAgent(
    name="deepen_r2_critic",
    model=get_model(),
    output_key="deepen_r2_critique",
    description="æ‰¹è¯„ä¸“å®¶ - æ·±åŒ–ç¬¬2è½®åˆ†æ",
    instruction='''ä½ æ˜¯æ‰¹è¯„ä¸“å®¶ Bobã€‚è¿™æ˜¯ ğŸ” æ·±åŒ–é˜¶æ®µç¬¬2è½®ã€‚

å¯¹ç¬¬2è½®æ·±åŒ–çš„æƒ³æ³•è¿›è¡Œåˆ†æï¼š
1. å¯è¡Œæ€§ä¸ç¬¬1è½®å¯¹æ¯”
2. ä¸¤ä¸ªæ–¹æ¡ˆèƒ½å¦ç»“åˆï¼Ÿ

æ·±åŒ–æƒ³æ³•ï¼š{deepen_r2_ideas}
ç¬¬1è½®æ·±åŒ–ï¼š{deepen_r1_summary}
'''
)

deepen_final_summary = LlmAgent(
    name="deepen_final_summary",
    model=get_model(),
    output_key="refined_solutions",
    description="æ·±åŒ–é˜¶æ®µæ€»æ±‡æ€»",
    instruction='''ä½ æ˜¯æ•´åˆä¸“å®¶ Charlieã€‚è¿™æ˜¯ ğŸ” æ·±åŒ–é˜¶æ®µæ€»æ±‡æ€»ã€‚

ç»¼åˆä¸¤è½®æ·±åŒ–è®¨è®ºï¼š
1. åˆ—å‡º 2 ä¸ªç»è¿‡æ·±åŒ–çš„æ–¹æ¡ˆ
2. å„è‡ªçš„ä¼˜åŠ£åŠ¿
3. æ˜¯å¦å¯ä»¥èåˆ

ç¬¬1è½®æ·±åŒ–ï¼š{deepen_r1_summary}
ç¬¬2è½®æƒ³æ³•ï¼š{deepen_r2_ideas}
ç¬¬2è½®åˆ†æï¼š{deepen_r2_critique}
'''
)


# ============================================================
# é˜¶æ®µ 5: è¯„ä¼°é˜¶æ®µ
# ============================================================
evaluate_agent = LlmAgent(
    name="evaluate_agent",
    model=get_model(),
    output_key="evaluation_result",
    description="è¯„ä¼°ä¸“å®¶å›¢",
    instruction='''ä½ æ˜¯è¯„ä¼°ä¸“å®¶å›¢ã€‚è¿™æ˜¯ âš–ï¸ è¯„ä¼°é˜¶æ®µã€‚

è¯·å¯¹æ‰€æœ‰æ–¹æ¡ˆè¿›è¡Œç»¼åˆè¯„ä¼°ï¼ˆæ¯é¡¹ 1-5 åˆ†ï¼‰ï¼š
- åˆ›æ–°æ€§ï¼šæƒ³æ³•æœ‰å¤šæ–°é¢–ï¼Ÿ
- å¯è¡Œæ€§ï¼šæŠ€æœ¯å’Œèµ„æºæ˜¯å¦å…è®¸ï¼Ÿ
- ä»·å€¼æ€§ï¼šèƒ½åˆ›é€ å¤šå¤§ä»·å€¼ï¼Ÿ
- é£é™©åº¦ï¼šé£é™©æ˜¯å¦å¯æ§ï¼Ÿ

æ·±åŒ–åçš„æ–¹æ¡ˆï¼š{refined_solutions}

è¾“å‡ºæ ¼å¼ï¼š
### æ–¹æ¡ˆè¯„ä¼°
[æ¯ä¸ªæ–¹æ¡ˆçš„è¯„åˆ†å’Œè¯„è¯­]

### æ¨èæ’å
1. [æœ€æ¨èæ–¹æ¡ˆ]
2. [æ¬¡æ¨èæ–¹æ¡ˆ]
'''
)


# ============================================================
# é˜¶æ®µ 6: æ•´åˆé˜¶æ®µ
# ============================================================
integrate_agent = LlmAgent(
    name="integrate_agent",
    model=get_model(),
    output_key="final_solution",
    description="æ•´åˆä¸“å®¶",
    instruction='''ä½ æ˜¯æ•´åˆä¸“å®¶ Charlieã€‚è¿™æ˜¯ ğŸ”— æ•´åˆé˜¶æ®µã€‚

æ ¹æ®è¯„ä¼°ç»“æœï¼Œæ•´åˆå½¢æˆæœ€ç»ˆæ–¹æ¡ˆï¼š
1. ç»¼åˆè¯„ä¼°ç»“æœï¼Œé€‰æ‹©æœ€ä¼˜æ–¹æ¡ˆ
2. å¸æ”¶å…¶ä»–æ–¹æ¡ˆçš„ä¼˜ç‚¹
3. åˆ¶å®šå®æ–½è®¡åˆ’

è¯„ä¼°ç»“æœï¼š{evaluation_result}

è¾“å‡ºæ ¼å¼ï¼š
## ğŸ¯ æœ€ç»ˆæ–¹æ¡ˆ
[æ–¹æ¡ˆåç§°å’Œæè¿°]

## ğŸ“‹ å®æ–½è®¡åˆ’
[åˆ†é˜¶æ®µè¡ŒåŠ¨]

## âš ï¸ é£é™©åº”å¯¹
[ä¸»è¦é£é™©åŠå¯¹ç­–]
'''
)


# ============================================================
# é˜¶æ®µ 7: è¾“å‡ºé˜¶æ®µ
# ============================================================
output_facilitator = LlmAgent(
    name="output_facilitator",
    model=get_model(),
    output_key="final_report",
    description="ä¸»æŒäºº - ç”Ÿæˆæœ€ç»ˆæŠ¥å‘Š",
    instruction='''ä½ æ˜¯å¤´è„‘é£æš´ä¸»æŒäººã€‚è¿™æ˜¯ ğŸ“‹ è¾“å‡ºé˜¶æ®µã€‚

è¯·ç”Ÿæˆå®Œæ•´çš„åˆ›æ–°æ–¹æ¡ˆæŠ¥å‘Šï¼š

å¼€åœºä¿¡æ¯ï¼š{opening_message}
ä¸»é¢˜åˆ†æï¼š{topic_definition}
æœ€ç»ˆæ–¹æ¡ˆï¼š{final_solution}

è¯·æŒ‰ä»¥ä¸‹æ ¼å¼è¾“å‡ºï¼š

# ğŸš€ åˆ›æ–°æ–¹æ¡ˆæŠ¥å‘Š

## æ‰§è¡Œæ‘˜è¦
[ä¸€æ®µè¯æ¦‚æ‹¬æ ¸å¿ƒæˆæœ]

## 1. é¡¹ç›®èƒŒæ™¯
[ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ª]

## 2. æ ¸å¿ƒåˆ›æ–°æ–¹æ¡ˆ
[2-3 ä¸ªä¸»è¦åˆ›æ–°ç‚¹]

## 3. å®æ–½è·¯çº¿å›¾
[åˆ†é˜¶æ®µçš„è¡ŒåŠ¨è®¡åˆ’]

## 4. é£é™©ä¸åº”å¯¹
[ä¸»è¦é£é™©åŠç¼“è§£æªæ–½]

## 5. ä¸‹ä¸€æ­¥è¡ŒåŠ¨
[ç«‹å³å¯ä»¥æ‰§è¡Œçš„ 3 é¡¹ä»»åŠ¡]

---
ğŸ‘¥ å‚ä¸ä¸“å®¶ï¼šAliceï¼ˆåˆ›æ–°ï¼‰ã€Bobï¼ˆæ‰¹è¯„ï¼‰ã€Charlieï¼ˆæ•´åˆï¼‰
'''
)


# ============================================================
# å®Œæ•´çš„å¤´è„‘é£æš´æµç¨‹ (7ä¸ªé˜¶æ®µï¼Œæ˜¾å¼å±•å¼€æ‰€æœ‰è½®æ¬¡)
# ============================================================

full_brainstorm_session = SequentialAgent(
    name="full_brainstorm_session",
    description="å®Œæ•´çš„å¤šé˜¶æ®µå¤´è„‘é£æš´æµç¨‹ï¼ˆ7é˜¶æ®µï¼Œå‘æ•£2è½®ï¼Œæ·±åŒ–2è½®ï¼‰",
    sub_agents=[
        # é˜¶æ®µ1: å¼€åœº
        opening_facilitator,
        # é˜¶æ®µ2: å®šä¹‰ä¸»é¢˜
        define_topic_agent,
        # é˜¶æ®µ3: å‘æ•£ï¼ˆ2è½®ï¼‰
        diverge_r1_innovator,
        diverge_r1_critic,
        diverge_r1_summary,
        diverge_r2_innovator,
        diverge_r2_critic,
        diverge_final_summary,
        # é˜¶æ®µ4: æ·±åŒ–ï¼ˆ2è½®ï¼‰
        deepen_r1_innovator,
        deepen_r1_critic,
        deepen_r1_summary,
        deepen_r2_innovator,
        deepen_r2_critic,
        deepen_final_summary,
        # é˜¶æ®µ5: è¯„ä¼°
        evaluate_agent,
        # é˜¶æ®µ6: æ•´åˆ
        integrate_agent,
        # é˜¶æ®µ7: è¾“å‡º
        output_facilitator,
    ]
)


# ============================================================
# ä¸»åè°ƒå™¨ (Root Agent)
# ============================================================

root_agent = LlmAgent(
    name="brainstorm_coordinator",
    model=get_model(),
    description="å¤šæ™ºèƒ½ä½“å¤´è„‘é£æš´ç³»ç»Ÿ - è¾“å…¥ä¸»é¢˜ï¼Œè‡ªåŠ¨è¿è¡Œå®Œæ•´çš„ 7 é˜¶æ®µè®¨è®ºæµç¨‹",
    instruction='''ä½ æ˜¯å¤šæ™ºèƒ½ä½“å¤´è„‘é£æš´ç³»ç»Ÿçš„å…¥å£åè°ƒå™¨ã€‚

å½“ç”¨æˆ·è¾“å…¥ä¸€ä¸ªè®¨è®ºä¸»é¢˜æ—¶ï¼Œå°†ä»»åŠ¡è½¬äº¤ç»™ full_brainstorm_session æ‰§è¡Œå®Œæ•´çš„å¤´è„‘é£æš´æµç¨‹ã€‚

ã€å®Œæ•´æµç¨‹ï¼ˆè‡ªåŠ¨æ‰§è¡Œï¼‰ã€‘
ğŸ¬ é˜¶æ®µ1 - å¼€åœºï¼šæ¬¢è¿ä¸“å®¶ï¼Œä»‹ç»è§„åˆ™
ğŸ¯ é˜¶æ®µ2 - å®šä¹‰ä¸»é¢˜ï¼šåˆ†æé—®é¢˜ï¼Œæ˜ç¡®æ–¹å‘
ğŸ’¡ é˜¶æ®µ3 - å‘æ•£ï¼ˆ2è½®ï¼‰ï¼š
   - ç¬¬1è½®ï¼šAliceæå‡ºæƒ³æ³• â†’ Bobç‚¹è¯„ â†’ Charlieæ±‡æ€»
   - ç¬¬2è½®ï¼šAliceç»§ç»­ â†’ Bobç»¼åˆ â†’ Charlieæ€»æ±‡æ€»
ğŸ” é˜¶æ®µ4 - æ·±åŒ–ï¼ˆ2è½®ï¼‰ï¼š
   - ç¬¬1è½®ï¼šæ·±åŒ–Top1æƒ³æ³•
   - ç¬¬2è½®ï¼šæ·±åŒ–Top2æƒ³æ³•
âš–ï¸ é˜¶æ®µ5 - è¯„ä¼°ï¼šå¤šç»´åº¦æ‰“åˆ†æ’å
ğŸ”— é˜¶æ®µ6 - æ•´åˆï¼šå½¢æˆæœ€ç»ˆæ–¹æ¡ˆ
ğŸ“‹ é˜¶æ®µ7 - è¾“å‡ºï¼šç”Ÿæˆå®Œæ•´æŠ¥å‘Š

ç”¨æˆ·åªéœ€è¾“å…¥ä¸»é¢˜ï¼Œä¾‹å¦‚ï¼š"å¦‚ä½•ç”¨ AI æ”¹å–„åŸå¸‚äº¤é€š"

ã€é‡è¦ã€‘æ”¶åˆ°ä¸»é¢˜åï¼Œç«‹å³è½¬äº¤ç»™ full_brainstorm_session å¼€å§‹å®Œæ•´æµç¨‹ã€‚
''',
    sub_agents=[full_brainstorm_session]
)
